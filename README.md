Выгружаю часть кода из более готового проекта, так что тут может быть много лишнего что не нужно в первом этапе финального проекта
